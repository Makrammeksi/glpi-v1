{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Makram\\\\Desktop\\\\mongoose-workshop\\\\src\\\\AppReserve.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Link, Route } from 'react-router-dom';\nimport axios from 'axios';\nimport ReserveCard from './reserveCard';\nimport AddReserve from './addReserve';\n\nvar AppReserve =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AppReserve, _Component);\n\n  function AppReserve(props) {\n    var _this;\n\n    _classCallCheck(this, AppReserve);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppReserve).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.getReserves();\n    };\n\n    _this.getReserves = function () {\n      axios.get('/reserves').then(function (res) {\n        return _this.setState({\n          reservelist: res.data\n        });\n      });\n    };\n\n    _this.addResv = function () {\n      _this.setState({\n        edit: false,\n        item: '',\n        requester: '',\n        startdate: '',\n        duration: '',\n        Comments: ''\n      });\n    };\n\n    _this.addReserve = function () {\n      axios.post('/add-reserve', {\n        item: _this.state.item,\n        requester: _this.state.requester,\n        startdate: _this.state.startdate,\n        duration: _this.state.duration,\n        Comments: _this.state.Comments\n      }).then(_this.getReserves);\n\n      _this.addResv();\n    };\n\n    _this.editReserve = function () {\n      axios.put('/modify-reserve/' + _this.state.id, {\n        item: _this.state.item,\n        requester: _this.state.requester,\n        startdate: _this.state.startdate,\n        duration: _this.state.duration,\n        Comments: _this.state.Comments\n      }).then(_this.getReserves);\n\n      _this.addResv();\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.getReserve = function (reserve, edit) {\n      _this.setState({\n        id: reserve._id,\n        item: reserve.item,\n        requester: reserve.requester,\n        startdate: reserve.startdate,\n        duration: reserve.duration,\n        Comments: reserve.Comments,\n        edit: edit\n      });\n    };\n\n    _this.state = {\n      id: '',\n      item: '',\n      requester: '',\n      startdate: '',\n      duration: '',\n      Comments: '',\n      reservelist: [],\n      edit: false\n    };\n    return _this;\n  }\n\n  _createClass(AppReserve, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          reserve = _this$props.reserve,\n          getReserve = _this$props.getReserve;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/reserve-list\",\n        render: function render() {\n          return React.createElement(\"div\", {\n            className: \"reserve-list\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, React.createElement(\"table\", {\n            className: \"tableTickets\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, React.createElement(\"thead\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(\"th\", {\n            className: \"titleTableTicket\",\n            colSpan: \"5\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, \" Item to do\")), React.createElement(\"tr\", {\n            className: \"ticketTable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, \"Item\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, \"Requester\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"Start Date\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, \"Duration\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, \"Description\"))), React.createElement(\"tbody\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"Tickets\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, _this2.state.reservelist.map(function (el) {\n            return (//     <tr>\n              //     <td>{el.reserve.item}</td>\n              //      <th>{reserve.requester}</th>\n              // <th> {reserve.starthate}</th>\n              // <th>{reserve.duration}</th>\n              // <th>{reserve.Comments}</th>\n              // </tr>\n              React.createElement(ReserveCard, {\n                reserve: el,\n                getReserve: _this2.getReserve,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 116\n                },\n                __self: this\n              })\n            );\n          })))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/(new-reserve|edit-reserve)/\",\n        render: function render() {\n          return React.createElement(AddReserve, {\n            handleChange: _this2.handleChange,\n            action: _this2.state.edit ? _this2.editReserve : _this2.addReserve,\n            edit: _this2.state.edit,\n            reserve: _this2.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AppReserve;\n}(Component);\n\nexport { AppReserve as default };","map":{"version":3,"sources":["C:\\Users\\Makram\\Desktop\\mongoose-workshop\\src\\AppReserve.js"],"names":["React","Component","Link","Route","axios","ReserveCard","AddReserve","AppReserve","props","componentDidMount","getReserves","get","then","res","setState","reservelist","data","addResv","edit","item","requester","startdate","duration","Comments","addReserve","post","state","editReserve","put","id","handleChange","e","target","name","value","getReserve","reserve","_id","map","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ReserveCard from './reserveCard';\r\nimport AddReserve from './addReserve'\r\n\r\n\r\nexport default class AppReserve extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        id: '',\r\n        item: '',     \r\n        requester: '',\r\n        startdate: '',\r\n        duration:'',\r\n        Comments:'',\r\n        reservelist:[],\r\n        edit: false\r\n      };\r\n    }\r\n    componentDidMount = () => {\r\n      this.getReserves();\r\n    }\r\n    getReserves = () => {\r\n      axios.get('/reserves').then(res =>\r\n        this.setState({\r\n          reservelist: res.data\r\n        })\r\n      );\r\n    };\r\n    addResv = () => {\r\n      this.setState({\r\n        edit: false,\r\n        item: '',     \r\n        requester: '',\r\n        startdate: '',\r\n        duration:'',\r\n        Comments:''\r\n      });\r\n    };\r\n    addReserve = () => {\r\n      axios\r\n        .post('/add-reserve', {\r\n          item: this.state.item,\r\n          requester: this.state.requester,\r\n          startdate: this.state.startdate,\r\n          duration: this.state.duration,\r\n          Comments: this.state.Comments,\r\n        })\r\n        .then(this.getReserves);\r\n      this.addResv();\r\n    };\r\n    editReserve = () => {\r\n      axios\r\n        .put('/modify-reserve/' + this.state.id, {\r\n          item: this.state.item,\r\n          requester: this.state.requester,\r\n          startdate: this.state.startdate,\r\n          duration: this.state.duration,\r\n          Comments: this.state.Comments,\r\n        })\r\n        .then(this.getReserves);\r\n      this.addResv();\r\n    };\r\n\r\n    handleChange = e => {\r\n      this.setState({ [e.target.name]: e.target.value });\r\n    };\r\n    getReserve = (reserve, edit) => {\r\n      this.setState({\r\n        id: reserve._id,\r\n        item: reserve.item,\r\n        requester: reserve.requester,\r\n        startdate: reserve.startdate,\r\n        duration: reserve.duration,\r\n        Comments: reserve.Comments,\r\n        edit\r\n      });\r\n    };\r\n  render() {\r\n    const { reserve, getReserve } = this.props;\r\n\r\n      return (\r\n        <div>\r\n        <Route\r\n        path=\"/reserve-list\"\r\n        render={() => (\r\n          <div className=\"reserve-list\">\r\n    \r\n            <table className=\"tableTickets\">\r\n      <thead>\r\n      <tr>         \r\n        <th className=\"titleTableTicket\" colSpan=\"5\"> Item to do</th>\r\n      </tr>\r\n      <tr className=\"ticketTable\">\r\n        <th>Item</th>\r\n        <th>Requester</th>\r\n        <th>Start Date</th>\r\n        <th>Duration</th>\r\n        <th>Description</th>\r\n\r\n      </tr>\r\n    </thead>  \r\n    <tbody>\r\n       <div className=\"Tickets\">\r\n            {this.state.reservelist.map(el =>  (\r\n          //     <tr>\r\n          //     <td>{el.reserve.item}</td>\r\n          //      <th>{reserve.requester}</th>\r\n          // <th> {reserve.starthate}</th>\r\n          // <th>{reserve.duration}</th>\r\n          // <th>{reserve.Comments}</th>\r\n          // </tr>\r\n               <ReserveCard  reserve={el} getReserve={this.getReserve} />\r\n          ) )}  \r\n          </div>\r\n    </tbody>\r\n</table>\r\n          </div>\r\n        )}\r\n      />\r\n      <Route\r\n      path=\"/(new-reserve|edit-reserve)/\"\r\n      render={() => (\r\n        <AddReserve\r\n          handleChange={this.handleChange}\r\n          action={this.state.edit ? this.editReserve : this.addReserve}\r\n          edit={this.state.edit}\r\n          reserve={this.state}/> )}\r\n        /> \r\n</div>\r\n\r\n      )}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}